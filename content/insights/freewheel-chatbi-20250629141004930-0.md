---
title: FreeWheel ChatBI：大模型如何赋能视频广告智能分析，革新企业数据决策范式
date: 2025-06-29T14:10:04+08:00
draft: false
featured_image: "https://static001.geekbang.org/wechat/images/70/7096c22e198b8f8d26e1943f461d144e.png"
summary: FreeWheel的ChatBI系统利用大语言模型（LLM）颠覆了传统视频广告数据分析，通过自然语言交互实现数据查询和深度洞察，极大提升了企业决策效率。该系统融合了Prompt+RAG、智能选表、Text2SQL、Workflow与Agent等先进技术，同时通过混合模型部署和用户反馈机制，平衡了数据安全与用户信任，为企业级AI应用树立了典范。
tags: 
  - FreeWheel ChatBI
  - 大语言模型
  - 智能数据分析
  - 视频广告
  - 企业级AI
  - Text2SQL
  - AI Agent
  - 数据安全
  - RAG
  - 人机协同
main_topics: 
  - 企业级AI与数字化
  - AI Agent与自主系统
  - 数据与开源生态
---

> 在日益复杂的数据洪流中，FreeWheel 的 ChatBI 系统正利用大语言模型（LLM）实现视频广告数据分析的民主化，通过自然语言交互，将传统BI工具的专业壁垒消弭于无形。这项创新不仅提升了数据洞察的效率和准确性，更通过精密的Agent框架和严谨的数据安全策略，为企业级AI应用树立了新的典范，预示着数据驱动型决策的新时代。

在数字广告的浩瀚海洋中，数据无疑是导航的罗盘。然而，随着业务模式的日益复杂，数据指标呈指数级增长，传统的商业智能（BI）工具在应对海量、动态的数据挑战时，其操作的复杂性和分析效率的低下日益凸显，成为企业实现精准决策的瓶颈。正是在这样的背景下，全球领先的数字广告管理技术与服务提供商 FreeWheel 迈出了革新性的一步，推出了其基于大语言模型（LLM）的对话式分析系统——FreeWheel ChatBI，旨在重塑视频广告智能数据分析的生态，让“人人都是数据分析师”成为可能。

### 对话式智能：重塑视频广告数据洞察

FreeWheel ChatBI 的核心在于将繁琐的数据查询与分析过程，转化为直观自然的对话交互。这不仅大幅降低了业务人员获取数据洞察的门槛，也显著加速了企业决策的效率。该系统不仅支持将自然语言精准转化为查询 SQL 并自动推荐最优可视化图表，更通过整合LLM的推理能力和强大的算法库，实现了深度的交互式数据分析。

ChatBI 的核心功能涵盖了从基础的数据查询与可视化，到复杂的交互式数据分析，包括异常检测、根因排查及优化建议。它甚至能根据用户意图，智能推荐内部仪表盘，并提供业务知识和指标解释的快速问答。尤为关键的是，系统引入了**人机协同（HITL）机制**和**多轮对话能力**，能够主动澄清用户的模糊意图，并支持连贯深入的数据分析，这在高度复杂的视频广告业务场景中显得尤为重要，例如流量分析、程序化交易分析等。传统模式下，业务人员需要依赖数据团队层层提数，响应迟缓，而ChatBI则通过自然语言交互，彻底颠覆了这一模式，极大地提升了数据获取效率并降低了跨团队沟通成本。

### 解构核心技术：从数据理解到深度分析

ChatBI 的强大功能源于其背后一系列精巧而复杂的技术实践。核心挑战之一在于如何让 LLM 理解 FreeWheel 庞大的、高度专业化的视频广告业务数据。系统采用了**“Prompt + RAG（检索增强生成）”**的组合策略，通过将数千字的业务概述作为System Prompt注入模型，并构建向量数据库来存储全量的业务术语、指标定义等知识资产，实现LLM对业务问题的深度理解和动态检索。这种方法有效解决了LLM对特定领域知识的“先验空白”问题。

在实现智能数据查询方面，Text2SQL 是其核心。FreeWheel 选择 Text2SQL 而非 Text2DSL，是基于其用户多具备数据仓库和SQL基础的考量，以及Text2SQL在处理多表JOIN、聚合等复杂查询时的灵活性。然而，Text2SQL面临的巨大挑战是如何从涵盖300余张表（包括30余张事实表和280余张维度表）的庞大数据仓库中，“智能选表”（Schema Linking）并生成准确的SQL。系统通过融合**Embedding向量检索、TF-IDF、Edit Distance**以及创新的**GraphRAG**等多种检索方式，对表和列进行初步召回。其中，GraphRAG通过构建“实体-列”知识图谱，在语义层面提升了检索的准确性。召回后，系统会依据业务约束（如权限、数据时效性）进行过滤，并通过 LLM 的智能决策（结合精心设计的提示词模板、业务介绍、术语映射、通用规则和选表示例）进行最终选表，最终事实表选择准确率超过95%。SQL生成环节同样依赖高质量的“问题-SQL”样例库和严谨的语法与业务正确性校验，以确保最终SQL的准确率达到90%以上。

当智能查询解决了“能问”的问题后，智能数据分析则进一步解决了“为何会发生”的问题。FreeWheel 为此构建了一套完备的算法服务，包括**时序预测、异常检测、业务实体离群点检测、转化漏斗分析、下钻分析**和**指标相关性分析**。这些算法为ChatBI的根因分析提供了坚实基础。为了高效利用这些算法，系统创新性地融合了**Workflow（工作流）**与**Agent（智能体）**两种模式。Workflow针对频繁被问到的、有明确诊断路径的问题（如“广告曝光数为何下降”），将其解决方案标准化预定义，实现高效准确的分析。而Agent机制则通过将各类原子功能（如Text2SQL、数据查询与解析、算法服务）封装为可调用的“工具”，交由LLM动态调度与组合执行，从而灵活响应用户复杂多变的长尾需求，极大拓展了分析场景的广度。

### 伦理与实践的平衡：数据安全、用户信任与未来展望

正如MIT Technology Review一贯关注技术对社会和伦理的影响，FreeWheel ChatBI 在其设计和实践中也体现了对数据安全和用户信任的深思。由于系统深度依赖Azure OpenAI的GPT系列和AWS Bedrock的Claude系列等公有云上的强大LLM，数据安全成为核心问题。FreeWheel 采取了**私有化部署小模型与公有云大模型协同**的方案。例如，基于AWS SageMaker部署的Gemma-4B等小模型，先行进行数据脱敏处理（如替换敏感客户ID），确保与外部LLM交互时避免真实数据泄露。这种混合模式不仅降低了风险和成本，也为其他企业级AI应用提供了宝贵的参考范式。

为了持续提升系统的准确性和用户满意度，ChatBI 引入了**用户反馈闭环优化流程**。用户可以对结果进行点赞或点踩，并提出修改建议或质疑。系统通过LLM驱动的预审机制，结合人工复核，将高质量的反馈同步回知识库，从而实现系统的自我学习与迭代优化，这体现了对**Human-in-the-Loop**理念的深度实践，不仅提升了系统性能，也增强了用户对AI辅助决策的信任感。

当前，Insights Chatbot 已在FreeWheel内部收获广泛好评，尤其在数据分析师、运营人员和Account团队中效果显著。未来，FreeWheel 将继续深耕Text2SQL的准确性优化，借鉴Alpha-SQL的思路拆分流程；同时计划扩展Agent的能力，支持生成并执行数据分析Python代码，并探索多Agent协同架构，以覆盖更多业务场景，最终目标是帮助用户节省90%的重复性工作，最大化数据价值。FreeWheel ChatBI的实践，无疑为我们展现了大模型如何深入企业核心业务，不仅提升效率，更在技术、伦理和用户体验之间寻求精妙平衡，引领着智能数据分析迈向一个更加开放、智能和普惠的新纪元。

## 引文
[^1]: 钟雨.从0到1拆解FreeWheel ChatBI：大模型如何重塑视频广告智能数据分析新生态·极客邦科技·钟雨 (2024/05/29)·检索日期2024/06/29
